$(document).ready(function(){var c=320,e=$("#title"),b=$("#tags"),a=$(".options"),d=$("#footer"),f=false;$(".project").addClass("invis1");$(".nest:not(.nohide)").slice(2).addClass("nosort").addClass("nestInvis");$(".nest:not(.nohide)").slice(1).addClass("nestInvis2");b.show().feedpack({itemClass:".nest:visible:not(.nosort)",imageLoad:false,animate:true,forceWidth:true,containerWidthStep:c});$(".tag").each(function(){_this=$(this);_l=$("."+_this.attr("id")).length;if(_l==1){_sfx=" Item"}else{_sfx=" Items"}$('<div id="tip">'+_l+_sfx+"</div>").appendTo(_this)});a.data("invis",setTimeout(function(){a.fadeOut(500)},2600));$(".tag").mouseenter(function(){_this=$(this);_id=this.id;clearTimeout(b.data("actproj"));b.data("actproj",setTimeout(function(){$(".project").not("."+_id).removeClass("projectActive");$("."+_id).addClass("projectActive")},600));_this.data("tipdelay",setTimeout(function(){_this.find("#tip").fadeIn(200)},800));clearTimeout(b.data("compacttags"));if(b.is(".compact")){b.data("expandtags",setTimeout(function(){b.removeClass("compact").feedpack()},240))}}).mouseleave(function(){_this=$(this);clearTimeout(b.data("actproj"));$(".project").removeClass("projectActive");clearTimeout(_this.data("tipdelay"));_this.find("#tip").fadeOut(420)});b.mouseenter(function(){clearTimeout(a.data("invis"));clearTimeout(b.data("compacttags"));a.fadeIn(200)}).mouseleave(function(){clearTimeout(b.data("expandtags"));if(!b.is(".compact")){b.data("compacttags",setTimeout(function(){b.addClass("compact").feedpack()},800))}a.data("invis",setTimeout(function(){a.fadeOut(500)},800))}).click(function(){if(!f){clearTimeout(b.data("compacttags"));if(b.is(".compact")){b.data("expandtags",setTimeout(function(){b.removeClass("compact").feedpack()},100))}}f=false;a.fadeIn(200)});$(".options").mouseover(function(){clearTimeout(b.data("expandtags"))}).click(function(){f=true});$(".tag:not(#project)").click(function(g){_this=$(this);_id=this.id;$(".tag").addClass("tagInactive");$("."+_id+"-tag").add(_this).removeClass("tagInactive");$(".nest:not(.nohide)").addClass("nosort").addClass("nestInvis").removeClass("nestInvis2");_collection=$("."+_id+"-nest");_index=_collection.index(_this.parent())+1;_collection.slice(0,_index).add(".parent-is-"+_id).has(".tag").removeClass("nosort").removeClass("nestInvis");$(".parent-is-"+_id).addClass("nestInvis2");$(".project").not("."+_id).not("#control").addClass("nosort").fadeOut(400);$("."+_id).removeClass("nosort").fadeIn(400);b.feedpack();$("#preview-container").feedpack({animate:true,itemClass:".project:not(.nosort)"})});$("#project").click(function(){_this=$(this);$(".tag").removeClass("tagInactive");$(".nest:not(.nohide)").addClass("nosort").addClass("nestInvis").removeClass("nestInvis2");_this.parent().next().add(_this.parent()).removeClass("nosort").removeClass("nestInvis");$(".parent-is-"+_id).addClass("nestInvis2");$("."+this.id).removeClass("nosort").fadeIn(400);b.feedpack();$("#preview-container").feedpack({animate:true,itemClass:".project:not(.nosort)"})});$(".project").each(function(g){$(this).prepend('<div class="projectCat invis1">'+g+"</div>")});$("#sbd").click(function(){$(".project:not(#control)").tsort(".projectDate",{order:"desc"});$("#preview-container").feedpack()});$("#sbc").click(function(){$(".project:not(#control)").tsort(".projectCat",{order:"asc"});$("#preview-container").feedpack({animate:true,itemClass:".project:not(.nosort)"})});$("#sbr").click(function(){$(".project:not(#control)").tsort("",{order:"rand"});$("#preview-container").feedpack({animate:true,itemClass:".project:not(.nosort)"})});$("#preview-container").feedpack({itemClass:".project:not(.nosort)",animate:true,forceWidth:true,callback:function(){$(".project").each(function(g){var h=$(this);setTimeout(function(){h.fadeIn(360).removeClass("invis1").css("display","")},40*g)});setTimeout(function(){$("#footer").fadeIn(500)},2500)}}).show();e.add(d).add("#desc").each(function(){var h=$(window).width(),g=parseInt(h/c);$(this).width(g*c-20)});$(window).resize(function(){e.add(d).add("#desc").each(function(){var g=$(this);clearTimeout(g.data("rsz"));g.data("rsz",setTimeout(function(){var i=$(window).width(),h=parseInt(i/c);g.width(h*c-20)},200))})})});